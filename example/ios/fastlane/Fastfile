#import_from_git(
 #  url: "https://oauth2:eBkSWpg1x8ozCSQdKyk9@git-oab.si.fr.intraorange/practice-apple-mds-o/fastlane-core.git",
  # branch: "0.3.0",
  # path: "Fastfile"
#)
# This file contains the fastlane.tools configuration
# You can find the documentation at https://docs.fastlane.tools
#
# For a list of all available actions, check out
#
#     https://docs.fastlane.tools/actions
#
# For a list of all available plugins, check out
#
#     https://docs.fastlane.tools/plugins/available-plugins
#

# Uncomment the line if you want fastlane to automatically update itself
# update_fastlane

default_platform(:ios)

desc "sign project"
  desc "Configure the .env.default file in this directory before you run the test or build lanes."
  desc "Info on the .env files and how to use them can be found here: https://github.com/fastlane/fastlane/blob/master/fastlane/docs/Advanced.md#environment-variables"
  lane :sign_project do
    disable_automatic_signing
    gym(
      export_options: {
        compileBitcode: ENV["GYM_INCLUDE_BITCODE"],
        uploadBitcode: ENV["GYM_INCLUDE_BITCODE"],
        provisioningProfiles: {
          ENV["FL_BUNDLE_IDENTIFIER"] => ENV["PROVISIONING_IDENTIFIER"]
        }
      },
      xcargs: { :PROVISIONING_PROFILE => ENV["PROVISIONING_IDENTIFIER"]}
    )

  end
